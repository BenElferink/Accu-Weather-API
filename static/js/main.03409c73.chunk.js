(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports={component:"FiveDaysForecast_component__192bu",item:"FiveDaysForecast_item__30UQV",wrapper:"FiveDaysForecast_wrapper__2w3IS",image:"FiveDaysForecast_image__1x57T"}},12:function(e,t,a){e.exports={component:"SearchField_component__m-ZaG",input:"SearchField_input__1qOW1",list:"SearchField_list__2TV-M",listItem:"SearchField_listItem__Gf9Z2"}},17:function(e,t,a){e.exports={component:"CurrentConditions_component__g_YSa"}},18:function(e,t,a){e.exports={favorites:"FavoritesPage_favorites__xNFYj",item:"FavoritesPage_item__XBQ-q",delete:"FavoritesPage_delete__147ox"}},26:function(e,t,a){e.exports={component:"Header_component__3cMry"}},28:function(e,t,a){e.exports={button:"HomePage_button__2EzOY"}},34:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),s=a(25),i=a.n(s),o=a(8),u=a(21),l=a(2),h=(a(34),a(4)),j=a.n(h),d=a(9);function p(e,t,a){var c,r=JSON.parse(window.localStorage.getItem(e));null==r?"API"===t?c=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,console.log("\u2705 -FETCHED- : ".concat(t),c),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),console.warn("\u274c -FAILED- : ".concat(t),e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()(a):(c=t,console.log("\ud83d\udca1 -GENERATED-",c)):(c=r,console.log("\u2934\ufe0f -LOADED- localStorage: ".concat(e),c));return"function"===typeof c?c():c}function b(e,t){window.localStorage.setItem(e,JSON.stringify(t)),console.log("\u2935\ufe0f -SAVED- localStorage: ".concat(e),t)}var m=a(26),v=a.n(m);function f(){var e=Object(l.f)();return Object(c.jsxs)("header",{className:v.a.component,children:[Object(c.jsx)("button",{onClick:function(){return e.push("/")},children:"Home"}),Object(c.jsx)("button",{onClick:function(){return e.push("/favorites")},children:"Favorites"})]})}var x=a(16),O=a(28),y=a.n(O),w=a(12),g=a.n(w),_="gYP5M3blhjAEeClyS8tyf8X6OwAcwnjc";console.log("\ud83c\udf10 -USING- apiKey: ".concat(_));var E=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/locations/v1/cities/autocomplete",a="?apikey=".concat(_,"&q=").concat(t),e.next=4,fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- searchResults: ".concat(t),r),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/currentconditions/v1/",a="".concat(t,"?apikey=").concat(_),e.next=4,fetch("https://dataservice.accuweather.com/currentconditions/v1/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- currentConditions: ".concat(t),r),e.abrupt("return",r[0]);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(d.a)(j.a.mark((function e(t){var a,c,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/forecasts/v1/daily/5day/",a="".concat(t,"?apikey=").concat(_),e.next=4,fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- fiveDaysForecast: ".concat(t),r),e.abrupt("return",r.DailyForecasts);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();function F(e){var t=this,a=e.setCityData,n=Object(r.useState)(""),s=Object(o.a)(n,2),i=s[0],u=s[1],l=Object(r.useState)([]),h=Object(o.a)(l,2),m=h[0],v=h[1],f=function(){var e=Object(d.a)(j.a.mark((function e(a){var c,r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.target.value,u(c),""!==c){e.next=6;break}v([]),e.next=30;break;case 6:r=!0,n=0;case 8:if(!(n<c.length)){e.next=19;break}if(!(c.charAt(n)>="a"&&c.charAt(n)<="z"||c.charAt(n)>="A"&&c.charAt(n)<="Z"||" "===c.charAt(n))){e.next=13;break}return e.abrupt("continue",16);case 13:return r=!1,window.alert("Please use English-alphabetical letters!"),e.abrupt("break",19);case 16:n++,e.next=8;break;case 19:if(!r){e.next=30;break}return e.t0=v,e.t1=p,e.t2="AccuWeather_SearchResults_".concat(c),e.next=25,E.bind(t,c);case 25:return e.t3=e.sent,e.next=28,(0,e.t1)(e.t2,e.t3);case 28:e.t4=e.sent,(0,e.t0)(e.t4);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){"Error"!==m&&b("AccuWeather_SearchResults_".concat(i),m)}),[m]),Object(c.jsxs)("div",{className:g.a.component,children:[Object(c.jsx)("input",{className:g.a.input,type:"text",placeholder:"Search a city...",value:i,onChange:f}),Object(c.jsx)("div",{className:g.a.list,children:"Error"===m?Object(c.jsx)("div",{className:g.a.listItem,children:"Error: API daily limit reached"}):m.map((function(e){return Object(c.jsxs)("div",{className:g.a.listItem,onClick:function(){a(e),u(""),v([])},children:[e.LocalizedName,", ",e.Country.ID]},e.Key)}))})]})}var I=a(17),A=a.n(I);function S(e){var t=e.cityData,a=Object(r.useState)("Loading"),n=Object(o.a)(a,2),s=n[0],i=n[1];switch(Object(r.useEffect)((function(){N(t.Key).then((function(e){i(e)}))}),[t]),s){case"Loading":return Object(c.jsx)("div",{className:A.a.component,children:"Loading..."});case"Error":return Object(c.jsx)("div",{className:A.a.component,children:"Error: API daily limit reached"});default:return Object(c.jsxs)("div",{className:A.a.component,children:[Object(c.jsxs)("h5",{children:[t.LocalizedName," (",s.IsDayTime?"Day":"Night",")"]}),Object(c.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(s.WeatherIcon,".svg"),alt:"weather icon"}),Object(c.jsxs)("p",{children:[s.Temperature.Metric.Value,"\xb0",s.Temperature.Metric.Unit," ","/ ",s.Temperature.Imperial.Value,"\xb0",s.Temperature.Imperial.Unit,Object(c.jsx)("br",{}),s.WeatherText]})]})}}var k=a(10),C=a.n(k);function T(e){var t=e.cityData,a=Object(r.useState)("Loading"),n=Object(o.a)(a,2),s=n[0],i=n[1];Object(r.useEffect)((function(){D(t.Key).then((function(e){return i(e)}))}),[t]);var u=function(e){switch(new Date(1e3*e).getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}};switch(s){case"Loading":return Object(c.jsx)("div",{className:C.a.component,children:"Loading..."});case"Error":return Object(c.jsx)("div",{className:C.a.component,children:"Error: API daily limit reached"});default:return Object(c.jsx)("div",{className:C.a.component,children:s.map((function(e){return Object(c.jsxs)("div",{className:C.a.item,children:[Object(c.jsx)("h5",{children:u(e.EpochDate)}),Object(c.jsx)("p",{children:"High: ".concat(parseInt((e.Temperature.Maximum.Value-32)*(5/9)),"\xb0C / Low: ").concat(parseInt((e.Temperature.Minimum.Value-32)*(5/9)),"\xb0C")}),Object(c.jsxs)("div",{className:C.a.wrapper,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:"Day:"}),Object(c.jsx)("img",{className:C.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Day.Icon,".svg"),alt:"WeatherIcon"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:"Night:"}),Object(c.jsx)("img",{className:C.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Night.Icon,".svg"),alt:"WeatherIcon"})]})]})]},e.EpochDate)}))})}}function L(e){var t=e.favorites,a=e.setFavorites,n=Object(r.useState)(Object(r.useCallback)((function(){return p("AccuWeather_CityData_215854",{AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"},Country:{ID:"IL",LocalizedName:"Israel"},Key:"215854",LocalizedName:"Tel Aviv",Rank:31,Type:"City",Version:1})}),[])),s=Object(o.a)(n,2),i=s[0],u=s[1];Object(r.useEffect)((function(){"Error"!==i&&b("AccuWeather_CityData_".concat(i.Key),i)}),[i]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(F,{setCityData:u}),Object(c.jsx)("button",{className:y.a.button,onClick:function(){for(var e=Object(x.a)(t),c=!0,r=0;r<e.length;r++)if(e[r].Key===i.Key){c=!1;break}c?(e.push(i),a(e)):alert("Current city already in favorites!")},children:"Add to favorites"}),Object(c.jsx)(S,{cityData:i}),Object(c.jsx)(T,{cityData:i})]})}var W=a(18),K=a.n(W);function P(e){var t=e.favorites,a=e.setFavorites;return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("div",{className:K.a.favorites,children:t.length?t.map((function(e){return Object(c.jsxs)("div",{className:K.a.item,children:[Object(c.jsx)("span",{className:K.a.delete,onClick:function(){return function(e){var c=Object(x.a)(t).filter((function(t){return t.Key!==e}));a(c)}(e.Key)},children:"\xd7"}),Object(c.jsx)(S,{cityData:e})]},e.Key)})):Object(c.jsx)("div",{children:"No favorites added"})})})}function M(){var e=Object(r.useState)(Object(r.useCallback)((function(){return p("AccuWeather_Favorites",[])}),[])),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){b("AccuWeather_Favorites",a)}),[a]),Object(c.jsx)("div",{className:"app",children:Object(c.jsxs)(u.a,{children:[Object(c.jsx)(f,{}),Object(c.jsx)("main",{className:"main",children:Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",children:Object(c.jsx)(L,{favorites:a,setFavorites:n})}),Object(c.jsx)(l.a,{exact:!0,path:"/favorites",children:Object(c.jsx)(P,{favorites:a,setFavorites:n})})]})})]})})}i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(M,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.03409c73.chunk.js.map