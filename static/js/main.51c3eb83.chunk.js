(this["webpackJsonpweather-api"]=this["webpackJsonpweather-api"]||[]).push([[0],{10:function(e,t,a){e.exports={component:"FiveDaysForecast_component__192bu",item:"FiveDaysForecast_item__30UQV",wrapper:"FiveDaysForecast_wrapper__2w3IS",image:"FiveDaysForecast_image__1x57T"}},12:function(e,t,a){e.exports={component:"SearchField_component__m-ZaG",input:"SearchField_input__1qOW1",list:"SearchField_list__2TV-M",listItem:"SearchField_listItem__Gf9Z2"}},15:function(e,t,a){e.exports={main:"FavoritesPage_main__GHSfZ",favorites:"FavoritesPage_favorites__xNFYj",item:"FavoritesPage_item__XBQ-q",delete:"FavoritesPage_delete__147ox"}},18:function(e,t,a){e.exports={component:"CurrentConditions_component__g_YSa"}},24:function(e,t,a){e.exports={main:"HomePage_main__3j4JY",button:"HomePage_button__2EzOY"}},27:function(e,t,a){e.exports={App:"App_App__PfJ3m"}},28:function(e,t,a){e.exports={component:"Header_component__3cMry"}},35:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),s=a(26),i=a.n(s),o=(a(35),a(8)),u=a(21),l=a(2),h=a(27),p=a.n(h),j=a(4),d=a.n(j),m=a(9);function b(e,t,a){var c,r=JSON.parse(window.localStorage.getItem(e));null==r?"API"===t?c=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,console.log("\u2705 -FETCHED- : ".concat(t),c),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),console.warn("\u274c -FAILED- : ".concat(t),e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()(a):(c=t,console.log("\ud83d\udca1 -GENERATED-",c)):(c=r,console.log("\u2934\ufe0f -LOADED- localStorage: ".concat(e),c));return"function"===typeof c?c():c}function f(e,t){window.localStorage.setItem(e,JSON.stringify(t)),console.log("\u2935\ufe0f -SAVED- localStorage: ".concat(e),t)}var v=a(28),x=a.n(v);var O=function(){var e=Object(l.g)();return Object(c.jsxs)("header",{className:x.a.component,children:[Object(c.jsx)("button",{onClick:function(){return e.push("/weather-api")},children:"Home"}),Object(c.jsx)("button",{onClick:function(){return e.push("/weather-api/favorites")},children:"Favorites"})]})},y=a(17),w=a(24),_=a.n(w),g=a(12),D=a.n(g),E="gYP5M3blhjAEeClyS8tyf8X6OwAcwnjc";console.log("\ud83c\udf10 -USING- apiKey: ".concat(E));var F=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://dataservice.accuweather.com/locations/v1/cities/autocomplete",a="?apikey=".concat(E,"&q=").concat(t),e.next=4,fetch("http://dataservice.accuweather.com/locations/v1/cities/autocomplete"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- searchResults: ".concat(t),r),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://dataservice.accuweather.com/currentconditions/v1/",a="".concat(t,"?apikey=").concat(E),e.next=4,fetch("http://dataservice.accuweather.com/currentconditions/v1/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- currentConditions: ".concat(t),r),e.abrupt("return",r[0]);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,c,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://dataservice.accuweather.com/forecasts/v1/daily/5day/",a="".concat(t,"?apikey=").concat(E),e.next=4,fetch("http://dataservice.accuweather.com/forecasts/v1/daily/5day/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- fiveDaysForecast: ".concat(t),r),e.abrupt("return",r.DailyForecasts);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();var I=function(e){var t=this,a=e.setCityData,n=Object(r.useState)(""),s=Object(o.a)(n,2),i=s[0],u=s[1],l=Object(r.useState)([]),h=Object(o.a)(l,2),p=h[0],j=h[1],v=function(){var e=Object(m.a)(d.a.mark((function e(a){var c,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.target.value,u(c),""!==c){e.next=6;break}j([]),e.next=30;break;case 6:r=!0,n=0;case 8:if(!(n<c.length)){e.next=19;break}if(!(c.charAt(n)>="a"&&c.charAt(n)<="z"||c.charAt(n)>="A"&&c.charAt(n)<="Z"||" "===c.charAt(n))){e.next=13;break}return e.abrupt("continue",16);case 13:return r=!1,window.alert("Please use English-alphabetical letters!"),e.abrupt("break",19);case 16:n++,e.next=8;break;case 19:if(!r){e.next=30;break}return e.t0=j,e.t1=b,e.t2="AccuWeather_SearchResults_".concat(c),e.next=25,F.bind(t,c);case 25:return e.t3=e.sent,e.next=28,(0,e.t1)(e.t2,e.t3);case 28:e.t4=e.sent,(0,e.t0)(e.t4);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){"Error"!==p&&f("AccuWeather_SearchResults_".concat(i),p)}),[p]),Object(c.jsxs)("div",{className:D.a.component,children:[Object(c.jsx)("input",{className:D.a.input,type:"text",placeholder:"Search a city...",value:i,onChange:v}),Object(c.jsx)("div",{className:D.a.list,children:"Error"===p?Object(c.jsx)("div",{className:D.a.listItem,children:"Error: API daily limit reached"}):p.map((function(e){return Object(c.jsxs)("div",{className:D.a.listItem,onClick:function(){a(e),u(""),j([])},children:[e.LocalizedName,", ",e.Country.ID]},e.Key)}))})]})},C=a(18),S=a.n(C);function k(e){var t=e.cityData,a=Object(r.useState)("Loading"),n=Object(o.a)(a,2),s=n[0],i=n[1];switch(Object(r.useEffect)((function(){N(t.Key).then((function(e){i(e)}))}),[t]),s){case"Loading":return Object(c.jsx)("div",{className:S.a.component,children:"Loading..."});case"Error":return Object(c.jsx)("div",{className:S.a.component,children:"Error: API daily limit reached"});default:return Object(c.jsxs)("div",{className:S.a.component,children:[Object(c.jsxs)("h5",{children:[t.LocalizedName," (",s.IsDayTime?"Day":"Night",")"]}),Object(c.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(s.WeatherIcon,".svg"),alt:"weather icon"}),Object(c.jsxs)("p",{children:[s.Temperature.Metric.Value,"\xb0",s.Temperature.Metric.Unit," ","/ ",s.Temperature.Imperial.Value,"\xb0",s.Temperature.Imperial.Unit,Object(c.jsx)("br",{}),s.WeatherText]})]})}}var T=a(10),L=a.n(T);function P(e){var t=e.cityData,a=Object(r.useState)("Loading"),n=Object(o.a)(a,2),s=n[0],i=n[1];Object(r.useEffect)((function(){A(t.Key).then((function(e){return i(e)}))}),[t]);var u=function(e){switch(new Date(1e3*e).getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}};switch(s){case"Loading":return Object(c.jsx)("div",{className:L.a.component,children:"Loading..."});case"Error":return Object(c.jsx)("div",{className:L.a.component,children:"Error: API daily limit reached"});default:return Object(c.jsx)("div",{className:L.a.component,children:s.map((function(e){return Object(c.jsxs)("div",{className:L.a.item,children:[Object(c.jsx)("h5",{children:u(e.EpochDate)}),Object(c.jsx)("p",{children:"High: ".concat(parseInt((e.Temperature.Maximum.Value-32)*(5/9)),"\xb0C / Low: ").concat(parseInt((e.Temperature.Minimum.Value-32)*(5/9)),"\xb0C")}),Object(c.jsxs)("div",{className:L.a.wrapper,children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:"Day:"}),Object(c.jsx)("img",{className:L.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Day.Icon,".svg"),alt:"WeatherIcon"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h6",{children:"Night:"}),Object(c.jsx)("img",{className:L.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Night.Icon,".svg"),alt:"WeatherIcon"})]})]})]},e.EpochDate)}))})}}function W(e){var t=e.favorites,a=e.setFavorites,n=Object(r.useState)(Object(r.useCallback)((function(){return b("AccuWeather_CityData_215854",{AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"},Country:{ID:"IL",LocalizedName:"Israel"},Key:"215854",LocalizedName:"Tel Aviv",Rank:31,Type:"City",Version:1})}),[])),s=Object(o.a)(n,2),i=s[0],u=s[1];Object(r.useEffect)((function(){"Error"!==i&&f("AccuWeather_CityData_".concat(i.Key),i)}),[i]);return Object(c.jsxs)("main",{className:_.a.main,children:[Object(c.jsx)(I,{setCityData:u}),Object(c.jsx)("button",{className:_.a.button,onClick:function(){for(var e=Object(y.a)(t),c=!0,r=0;r<e.length;r++)if(e[r].Key===i.Key){c=!1;break}c?(e.push(i),a(e)):alert("Current city already in favorites!")},children:"Add to favorites"}),Object(c.jsx)(k,{cityData:i}),Object(c.jsx)(P,{cityData:i})]})}var K=a(15),H=a.n(K);var M=function(e){var t=e.favorites,a=e.setFavorites;return Object(c.jsx)("main",{className:H.a.main,children:Object(c.jsx)("div",{className:H.a.favorites,children:t.map((function(e){return Object(c.jsxs)("div",{className:H.a.item,children:[Object(c.jsx)("span",{className:H.a.delete,onClick:function(){return function(e){var c=Object(y.a)(t).filter((function(t){return t.Key!==e}));a(c)}(e.Key)},children:"\xd7"}),Object(c.jsx)(k,{cityData:e})]},e.Key)}))})})};var V=function(){var e=Object(r.useState)(Object(r.useCallback)((function(){return b("AccuWeather_Favorites",[])}),[])),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){f("AccuWeather_Favorites",a)}),[a]),Object(c.jsx)("div",{className:p.a.App,children:Object(c.jsxs)(u.a,{children:[Object(c.jsx)(O,{}),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(l.b,{exact:!0,path:"/",component:function(){return Object(c.jsx)(l.a,{to:"/weather-api"})}}),Object(c.jsx)(l.b,{exact:!0,path:"/weather-api",children:Object(c.jsx)(W,{favorites:a,setFavorites:n})}),Object(c.jsx)(l.b,{exact:!0,path:"/weather-api/favorites",children:Object(c.jsx)(M,{favorites:a,setFavorites:n})})]})]})})},z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,43)).then((function(t){var a=t.getCLS,c=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;a(e),c(e),r(e),n(e),s(e)}))};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(V,{})}),document.getElementById("root")),z()}},[[42,1,2]]]);
//# sourceMappingURL=main.51c3eb83.chunk.js.map