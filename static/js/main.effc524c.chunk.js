(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{10:function(e,t,a){e.exports={component:"FiveDaysForecast_component__192bu",item:"FiveDaysForecast_item__30UQV",wrapper:"FiveDaysForecast_wrapper__2w3IS",image:"FiveDaysForecast_image__1x57T"}},12:function(e,t,a){e.exports={component:"SearchField_component__m-ZaG",input:"SearchField_input__1qOW1",list:"SearchField_list__2TV-M",listItem:"SearchField_listItem__Gf9Z2"}},17:function(e,t,a){e.exports={component:"CurrentConditions_component__g_YSa"}},18:function(e,t,a){e.exports={favorites:"FavoritesPage_favorites__xNFYj",item:"FavoritesPage_item__XBQ-q",delete:"FavoritesPage_delete__147ox"}},26:function(e,t,a){e.exports={component:"Header_component__3cMry"}},28:function(e,t,a){e.exports={button:"HomePage_button__2EzOY"}},33:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(25),s=a.n(n),i=a(8),o=a(21),u=a(2),l=(a(33),a(4)),h=a.n(l),j=a(9);function d(e,t,a){var c,r=JSON.parse(window.localStorage.getItem(e));null==r?"API"===t?c=function(){var e=Object(j.a)(h.a.mark((function e(t){var a,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return a=e.sent,e.next=6,a.json();case 6:return c=e.sent,console.log("\u2705 -FETCHED- : ".concat(t),c),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(0),console.warn("\u274c -FAILED- : ".concat(t),e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()(a):(c=t,console.log("\ud83d\udca1 -GENERATED-",c)):(c=r,console.log("\u2934\ufe0f -LOADED- localStorage: ".concat(e),c));return"function"===typeof c?c():c}function p(e,t){window.localStorage.setItem(e,JSON.stringify(t)),console.log("\u2935\ufe0f -SAVED- localStorage: ".concat(e),t)}var b=a(26),m=a.n(b),v=a(0);function f(){var e=Object(u.f)();return Object(v.jsxs)("header",{className:m.a.component,children:[Object(v.jsx)("button",{onClick:function(){return e.push("/")},children:"Home"}),Object(v.jsx)("button",{onClick:function(){return e.push("/favorites")},children:"Favorites"})]})}var x=a(16),O=a(28),y=a.n(O),w=a(12),g=a.n(w),_="gYP5M3blhjAEeClyS8tyf8X6OwAcwnjc";console.log("\ud83c\udf10 -USING- apiKey: ".concat(_));var E=function(){var e=Object(j.a)(h.a.mark((function e(t){var a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/locations/v1/cities/autocomplete",a="?apikey=".concat(_,"&q=").concat(t),e.next=4,fetch("https://dataservice.accuweather.com/locations/v1/cities/autocomplete"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- searchResults: ".concat(t),r),e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(h.a.mark((function e(t){var a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/currentconditions/v1/",a="".concat(t,"?apikey=").concat(_),e.next=4,fetch("https://dataservice.accuweather.com/currentconditions/v1/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- currentConditions: ".concat(t),r),e.abrupt("return",r[0]);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(h.a.mark((function e(t){var a,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://dataservice.accuweather.com/forecasts/v1/daily/5day/",a="".concat(t,"?apikey=").concat(_),e.next=4,fetch("https://dataservice.accuweather.com/forecasts/v1/daily/5day/"+a);case 4:return c=e.sent,e.next=7,c.json();case 7:return r=e.sent,console.log("\u2705 -FETCHED- fiveDaysForecast: ".concat(t),r),e.abrupt("return",r.DailyForecasts);case 12:return e.prev=12,e.t0=e.catch(0),console.warn(e.t0),e.abrupt("return","Error");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();function F(e){var t=this,a=e.setCityData,r=Object(c.useState)(""),n=Object(i.a)(r,2),s=n[0],o=n[1],u=Object(c.useState)([]),l=Object(i.a)(u,2),b=l[0],m=l[1],f=function(){var e=Object(j.a)(h.a.mark((function e(a){var c,r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=a.target.value,o(c),""!==c){e.next=6;break}m([]),e.next=30;break;case 6:r=!0,n=0;case 8:if(!(n<c.length)){e.next=19;break}if(!(c.charAt(n)>="a"&&c.charAt(n)<="z"||c.charAt(n)>="A"&&c.charAt(n)<="Z"||" "===c.charAt(n))){e.next=13;break}return e.abrupt("continue",16);case 13:return r=!1,window.alert("Please use English-alphabetical letters!"),e.abrupt("break",19);case 16:n++,e.next=8;break;case 19:if(!r){e.next=30;break}return e.t0=m,e.t1=d,e.t2="AccuWeather_SearchResults_".concat(c),e.next=25,E.bind(t,c);case 25:return e.t3=e.sent,e.next=28,(0,e.t1)(e.t2,e.t3);case 28:e.t4=e.sent,(0,e.t0)(e.t4);case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){"Error"!==b&&p("AccuWeather_SearchResults_".concat(s),b)}),[b]),Object(v.jsxs)("div",{className:g.a.component,children:[Object(v.jsx)("input",{className:g.a.input,type:"text",placeholder:"Search a city...",value:s,onChange:f}),Object(v.jsx)("div",{className:g.a.list,children:"Error"===b?Object(v.jsx)("div",{className:g.a.listItem,children:"Error: API daily limit reached"}):b.map((function(e){return Object(v.jsxs)("div",{className:g.a.listItem,onClick:function(){a(e),o(""),m([])},children:[e.LocalizedName,", ",e.Country.ID]},e.Key)}))})]})}var I=a(17),A=a.n(I);function S(e){var t=e.cityData,a=Object(c.useState)("Loading"),r=Object(i.a)(a,2),n=r[0],s=r[1];switch(Object(c.useEffect)((function(){N(t.Key).then((function(e){s(e)}))}),[t]),n){case"Loading":return Object(v.jsx)("div",{className:A.a.component,children:"Loading..."});case"Error":return Object(v.jsx)("div",{className:A.a.component,children:"Error: API daily limit reached"});default:return Object(v.jsxs)("div",{className:A.a.component,children:[Object(v.jsxs)("h5",{children:[t.LocalizedName," (",n.IsDayTime?"Day":"Night",")"]}),Object(v.jsx)("img",{src:"https://www.accuweather.com/images/weathericons/".concat(n.WeatherIcon,".svg"),alt:"weather icon"}),Object(v.jsxs)("p",{children:[n.Temperature.Metric.Value,"\xb0",n.Temperature.Metric.Unit," ","/ ",n.Temperature.Imperial.Value,"\xb0",n.Temperature.Imperial.Unit,Object(v.jsx)("br",{}),n.WeatherText]})]})}}var k=a(10),C=a.n(k);function T(e){var t=e.cityData,a=Object(c.useState)("Loading"),r=Object(i.a)(a,2),n=r[0],s=r[1];Object(c.useEffect)((function(){D(t.Key).then((function(e){return s(e)}))}),[t]);var o=function(e){switch(new Date(1e3*e).getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}};switch(n){case"Loading":return Object(v.jsx)("div",{className:C.a.component,children:"Loading..."});case"Error":return Object(v.jsx)("div",{className:C.a.component,children:"Error: API daily limit reached"});default:return Object(v.jsx)("div",{className:C.a.component,children:n.map((function(e){return Object(v.jsxs)("div",{className:C.a.item,children:[Object(v.jsx)("h5",{children:o(e.EpochDate)}),Object(v.jsx)("p",{children:"High: ".concat(parseInt((e.Temperature.Maximum.Value-32)*(5/9)),"\xb0C / Low: ").concat(parseInt((e.Temperature.Minimum.Value-32)*(5/9)),"\xb0C")}),Object(v.jsxs)("div",{className:C.a.wrapper,children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h6",{children:"Day:"}),Object(v.jsx)("img",{className:C.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Day.Icon,".svg"),alt:"WeatherIcon"})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h6",{children:"Night:"}),Object(v.jsx)("img",{className:C.a.image,src:"https://www.accuweather.com/images/weathericons/".concat(e.Night.Icon,".svg"),alt:"WeatherIcon"})]})]})]},e.EpochDate)}))})}}function L(e){var t=e.favorites,a=e.setFavorites,r=Object(c.useState)(Object(c.useCallback)((function(){return d("AccuWeather_CityData_215854",{AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"},Country:{ID:"IL",LocalizedName:"Israel"},Key:"215854",LocalizedName:"Tel Aviv",Rank:31,Type:"City",Version:1})}),[])),n=Object(i.a)(r,2),s=n[0],o=n[1];Object(c.useEffect)((function(){"Error"!==s&&p("AccuWeather_CityData_".concat(s.Key),s)}),[s]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(F,{setCityData:o}),Object(v.jsx)("button",{className:y.a.button,onClick:function(){for(var e=Object(x.a)(t),c=!0,r=0;r<e.length;r++)if(e[r].Key===s.Key){c=!1;break}c?(e.push(s),a(e)):alert("Current city already in favorites!")},children:"Add to favorites"}),Object(v.jsx)(S,{cityData:s}),Object(v.jsx)(T,{cityData:s})]})}var W=a(18),K=a.n(W);function P(e){var t=e.favorites,a=e.setFavorites;return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:K.a.favorites,children:t.length?t.map((function(e){return Object(v.jsxs)("div",{className:K.a.item,children:[Object(v.jsx)("span",{className:K.a.delete,onClick:function(){return function(e){var c=Object(x.a)(t).filter((function(t){return t.Key!==e}));a(c)}(e.Key)},children:"\xd7"}),Object(v.jsx)(S,{cityData:e})]},e.Key)})):Object(v.jsx)("div",{children:"No favorites added"})})})}function M(){var e=Object(c.useState)(Object(c.useCallback)((function(){return d("AccuWeather_Favorites",[])}),[])),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(c.useEffect)((function(){p("AccuWeather_Favorites",a)}),[a]),Object(v.jsx)("div",{className:"app",children:Object(v.jsxs)(o.a,{children:[Object(v.jsx)(f,{}),Object(v.jsx)("main",{className:"main",children:Object(v.jsxs)(u.c,{children:[Object(v.jsx)(u.a,{exact:!0,path:"/",children:Object(v.jsx)(L,{favorites:a,setFavorites:r})}),Object(v.jsx)(u.a,{exact:!0,path:"/favorites",children:Object(v.jsx)(P,{favorites:a,setFavorites:r})})]})})]})})}s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(M,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.effc524c.chunk.js.map